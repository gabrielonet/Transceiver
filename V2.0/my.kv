<Main_Screen>:
    AnchorLayout:
        ScreenManager:
            size_hint: 1, 1
            id: _screen_manager
            Screen:
                name: 'home'
                FloatLayout:
                    canvas:
                        #Color:
                        #    rgba: 0,255,0,1
                        Line:
                            points: [10,200 ,root.filter_start_x, 200,root.filter_start_x + 10, 240,root.filter_stop_x,240,root.filter_stop_x+10,200,360,200]    
                        #Line:
                        #    points: [430,240    ,790,240,   790,170,   430,170,   430,240]   
                    #Label:
                    #    text: 'Cw Speed'
                    #    pos: (440,160)
                    #    size_hint: (.1, .1)                            
                        
                            
                    Label:
                        markup: True
                        text: str(root.filter_start_x*10)+' Hz'
                        pos: (root.filter_start_x ,140)
                        size_hint: (.1, .1)
                    Label:
                        markup: True
                        text: str(root.filter_stop_x*10)+' Hz'
                        pos: (root.filter_stop_x ,260)
                        size_hint: (.1, .1)

                        
                    ToggleButton:
                        markup: True
                        name: 'sota mode'
                        text: 'DSP ' + root.dsp_mode
                        on_press: root.sota_mode()
                        pos: (10 ,80)
                        size_hint: (.2, .1)
                        background_normal:  "img/shape_off.png"
                        background_down: "img/shape_on.png"                                  

                    Label:
                        markup: True                     
                        text: '  S____1____3____5____7_____9____+10___+30___+50 dB'
                        pos: (10 ,140)
                        size_hint: (.5, 1)
                    ProgressBar:
                        pos: (35, 120)
                        color: 
                        size_hint: (.4, 1)
                        value: root.meter
                    Label:
                        markup: True                     
                        text: 'PWR___2.5___5___7.5___10___12.5___15___17.5___20 W'   
                        #text: '  S____1____3____5____7_____9_____10____30____50 dB'
                        pos: (0 ,105)
                        size_hint: (.5, 1)
                        
                   

                
                    Button:
                        markup: True
                        font_size: 48
                        text: root.M1 +root.M2+'.'+root.K1+root.K2+root.K3+'.'+root.H1+root.H2+ '[size=24]   Mhz[/size]'
                        pos: (430 ,340)
                        size_hint: (.45, .1)
                        #on_press: _screen_manager.current = 'dialpad'
                        background_color: (1, 1, 1, 0)
 
                              
                    #Slider:
                    #    id: slider_id
                    #    min: 30
                    #    max: 60
                    #    step: 1
                    #    value: 45
                    #    pos: (430, 180)
                    #    size_hint: (.45, .1)
                    #    on_touch_move: root.slider(slider_id.value)
                    #    on_touch_up: root.slider(slider_id.value)                        

                        
                    ToggleButton:
                        name: 'RX Rit'
                        text: 'Rx '+root.rit_rx_status
                        on_press: root.rit_rx()
                        pos: (450 ,280)
                        size_hint: (.1, .1)
                        background_normal:  "img/shape_off.png"
                        background_down: "img/shape_on.png"
                    ToggleButton:
                        name: 'TX Rit' 
                        text: 'Tx '+root.rit_tx_status
                        on_press: root.rit_tx()
                        pos: (540 ,280)
                        size_hint: (.1, .1)
                        background_normal:  "img/shape_off.png"
                        background_down: "img/shape_on.png"
                    Button:
                        text: 'Tx Listen' 
                        #on_press: root.rit()
                        pos: (630 ,280)
                        size_hint: (.1, .1)
                        background_normal:  "img/shape_off.png"
                        background_down: "img/shape_on.png"
####################################################################################################################



                    Label:
                        markup: True 
                        text: '[size=18]RIT '+root.tcvr_status+'[/size]  \n'+root.rit
                        font_size: 24
                        pos: 720, 280
                        size_hint: .1, .1

            Screen:
                name: 'band'
                GridLayout: 
                    cols: 3
                    padding: 100
                    row_force_default: True
                    row_default_height: 60
                    size_hint_x: None
                    width: 600
                    Button:
                        text: "3.5 Mhz"
                        on_press: _screen_manager.current = 'home'
                        on_press: root.band_switch('35')
                        #background_normal:  root.button_image
                    Button:
                        text: "7 Mhz"
                        on_press: _screen_manager.current = 'home'
                        on_press: root.band_switch('7')
                    Button:
                        text: "14 Mhz"
                        on_press: _screen_manager.current = 'home'
                        on_press: root.band_switch('14')
                    Button:
                        text: "21 Mhz"
                        on_press: _screen_manager.current = 'home'
                        on_press: root.band_switch('21')                        
                    Button:
                        text: "28 Mhz"
                        on_press: _screen_manager.current = 'home'
                        on_press: root.band_switch('28')   
            Screen:
                name: 'System'
                GridLayout: 
                    cols: 3
                    padding: 100
                    row_force_default: True
                    row_default_height: 60
                    size_hint_x: None
                    width: 600
                    Button:
                        text: "System Shutdown"
                        on_press: root.sys_shut_down()
                        #on_press: root.band_switch('35')
                        #background_normal:  root.button_image                        


                    Button:
                        text: "System Reboot"
                        on_press: root.sys_reboot()
                        #on_press: root.band_switch('35')
                        #background_normal:  root.button_image                                  

            Screen:
                name: 'Mode'
                GridLayout: 
                    cols: 3
                    padding: 100
                    row_force_default: True
                    row_default_height: 60
                    size_hint_x: None
                    width: 600
                    Button:
                        text: "USB"
                        #background_normal:  root.button_image   
                        on_press: root.mode(23)
                    Button:
                        text: "LSB"
                        #background_normal:  root.button_image                                
                        on_press: root.mode(25)
                    Button:
                        text: "CW"
                        #background_normal:  root.button_image                          
                        on_press: root.mode(8)
                        
                        
                        
    AnchorLayout:
        anchor_x: 'left'
        anchor_y: 'bottom'
        BoxLayout:
            orientation: 'horizontal'
            size_hint: .5, .1

            Button:
                markup: True
                text:  'Home'
                #font_size:  24
                background_normal:  "img/shape_off.png"
                #background_down:  "img/shape_off.png"
                #on_press: _screen_manager.current = 'home'
                on_press: _screen_manager.current = 'home'
                
            Button:
                markup: True
                text:  'Band'
                #font_size:  24
                #background_normal:  "img/normal.png"
                #background_down:  "img/down.png"
                #on_press: _screen_manager.current = 'home'
                on_press: _screen_manager.current = 'band'               
            Button:
                markup: True
                text:  'Mode'
                #font_size:  24
                #background_normal:  "img/normal.png"
                #background_down:  "img/down.png"
                #on_press: _screen_manager.current = 'home'
                on_press: _screen_manager.current = 'Mode'                              
            Button:
                markup: True
                text:  'System'
                #font_size:  24
                #background_normal:  "img/normal.png"
                #background_down:  "img/down.png"
                on_press: _screen_manager.current = 'System'
                
    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'bottom'
        BoxLayout:
            orientation: 'horizontal'
            size_hint: .2, .1
            Button:
                markup: True
                text:  '[b]<'
                font_size:  24
                background_normal:  "img/normal.png"
                background_down:  "img/down.png"
                on_press: root.step_callback('left')
                
            Label:
                text: 'STEP'  
                
            Button:
                markup: True
                text:  '[b]>'
                font_size:  24
                background_normal:  "img/normal.png"
                background_down:  "img/down.png"
                on_press: root.step_callback('right')
                 
                
                
                
                
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'top'
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, .1
            
            ToggleButton:
                markup: True
                name: 'AGC'
                text: 'AGC Mode'
                #on_press: root.rf_preamp()
                background_normal:  "img/shape_off.png"
                background_down: "img/shape_on.png"            
            ToggleButton:
                markup: True
                name: 'RF Preamp'
                text: 'RF Preamp '+ root.rf_preamp_status
                on_press: root.rf_preamp()
                background_normal:  "img/shape_off.png"
                background_down: "img/shape_on.png"
            ToggleButton:
                markup: True
                name: 'AF Preamp'
                text: 'AF Preamp '+root.af_preamp_status
                on_press: root.af_preamp()
                background_normal:  "img/shape_off.png"
                background_down: "img/shape_on.png"
                
            ToggleButton:
                markup: True
                name: 'CW Break'
                text: 'CW Break '+root.full_break_status
                on_press: root.full_break()
                background_normal:  "img/shape_off.png"
                background_down: "img/shape_on.png"                
                

            #ToggleButton:
            #    markup: True
            #    name: 'AGC'
            #    text: 'AGC '+ root.agc_status
            #    on_press: root.agc()
            #    background_normal:  "img/shape_off.png"
            #    background_down: "img/shape_on.png"                
                
                
                
                
            #Label:
            #    markup: True
            #    text: '[size=24]'+root.utc_time+'[/size]'
            #    font_size: 18                
 
            


                
            
                

