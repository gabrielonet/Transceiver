<Main_Screen>:
    AnchorLayout:
        ScreenManager:
            size_hint: 1, 1
            id: _screen_manager
            Screen:
                name: 'home'
                FloatLayout:
                    canvas:
                        Line:
                            points: [10,200 ,root.filter_start_x, 200,root.filter_start_x, 240,root.filter_stop_x,240,root.filter_stop_x,200,360,200]                                
                    Label:
                        markup: True
                        text: str(root.filter_start_x*10)+' Hz'
                        pos: (root.filter_start_x ,140)
                        size_hint: (.1, .1)
                    Label:
                        markup: True
                        text: str(root.filter_stop_x*10)+' Hz'
                        pos: (root.filter_stop_x ,260)
                        size_hint: (.1, .1)

                        
                    ToggleButton:
                        markup: True
                        name: 'sota mode'
                        text: 'DSP ' + root.dsp_mode
                        on_press: root.sota_mode()
                        pos: (10 ,80)
                        size_hint: (.2, .1)
                        background_normal:  "img/shape_off.png"
                        background_down: "img/shape_on.png"                                  

                    Label:
                        markup: True                     
                        text: '  S____1____3____5____7_____9____+10___+30___+50 dB'
                        pos: (10 ,140)
                        size_hint: (.5, 1)
                    ProgressBar:
                        pos: (35, 120)
                        size_hint: (.4, 1)
                        value: root.meter
                    Label:
                        markup: True                     
                        text: 'PWR____5___10____15___20____40____60____80____100 W'   
                        #text: '  S____1____3____5____7_____9_____10____30____50 dB'
                        pos: (0 ,105)
                        size_hint: (.5, 1)
                
                    Button:
                        markup: True
                        font_size: 48
                        text: root.M1 +root.M2+'.'+root.K1+root.K2+root.K3+'.'+root.H1+root.H2+ '[size=24]   Mhz[/size]'
                        pos: (430 ,340)
                        size_hint: (.45, .1)
                        #on_press: _screen_manager.current = 'dialpad'
                        background_color: (1, 1, 1, 0)

                        
                    ToggleButton:
                        name: 'RX Rit'
                        text: 'Rx '+root.rit_rx_status
                        on_press: root.rit_rx()
                        pos: (450 ,280)
                        size_hint: (.1, .1)
                        background_normal:  "img/shape_off.png"
                        background_down: "img/shape_on.png"
                    ToggleButton:
                        name: 'TX Rit' 
                        text: 'Tx '+root.rit_tx_status
                        on_press: root.rit_tx()
                        pos: (540 ,280)
                        size_hint: (.1, .1)
                        background_normal:  "img/shape_off.png"
                        background_down: "img/shape_on.png"
                    Button:
                        text: 'Tx Listen' 
                        #on_press: root.rit()
                        pos: (630 ,280)
                        size_hint: (.1, .1)
                        background_normal:  "img/shape_off.png"
                        background_down: "img/shape_on.png"
####################################################################################################################



                    Label:
                        markup: True 
                        text: '[size=18]RIT '+root.tcvr_status+'[/size]  \n'+root.rit
                        font_size: 24
                        pos: 720, 280
                        size_hint: .1, .1

                    
            Screen:
                name: 'mode'
                GridLayout: 
                    cols: 3
                    padding: 50
                    Button:
                        text: "CW"
                        on_press: _screen_manager.current = 'home'
                    Button:
                        text: "USB"
                    Button:
                        text: "LSB"

            Screen:
                name: 'band'
                GridLayout: 
                    cols: 3
                    padding: 100
                    row_force_default: True
                    row_default_height: 60
                    size_hint_x: None
                    width: 600
                    Button:
                        text: "3.5 Mhz"
                        on_press: _screen_manager.current = 'home'
                        on_press: root.band_switch('35')
                        #background_normal:  root.button_image
                    Button:
                        text: "7 Mhz"
                        on_press: _screen_manager.current = 'home'
                        on_press: root.band_switch('7')
                    Button:
                        text: "14 Mhz"
                        on_press: _screen_manager.current = 'home'
                        on_press: root.band_switch('14')
                    Button:
                        text: "21 Mhz"
                        on_press: _screen_manager.current = 'home'
                        on_press: root.band_switch('21')                        
                    Button:
                        text: "28 Mhz"
                        on_press: _screen_manager.current = 'home'
                        on_press: root.band_switch('28')                        
                        

    AnchorLayout:
        anchor_x: 'left'
        anchor_y: 'bottom'
        BoxLayout:
            orientation: 'horizontal'
            size_hint: .5, .1

            Button:
                markup: True
                text:  'Home'
                #font_size:  24
                background_normal:  "img/shape_off.png"
                #background_down:  "img/shape_off.png"
                #on_press: _screen_manager.current = 'home'
                on_press: _screen_manager.current = 'home'
                
            Button:
                markup: True
                text:  'Band'
                #font_size:  24
                #background_normal:  "img/normal.png"
                #background_down:  "img/down.png"
                #on_press: _screen_manager.current = 'home'
                on_press: _screen_manager.current = 'band'                
                
                
    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'bottom'
        BoxLayout:
            orientation: 'horizontal'
            size_hint: .2, .1
            Button:
                markup: True
                text:  '[b]<'
                font_size:  24
                background_normal:  "img/normal.png"
                background_down:  "img/down.png"
                on_press: root.step_callback('left')
                
            Label:
                text: 'STEP'  
                
            Button:
                markup: True
                text:  '[b]>'
                font_size:  24
                background_normal:  "img/normal.png"
                background_down:  "img/down.png"
                on_press: root.step_callback('right')
                 
                
                
                
                
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'top'
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, .1
            ToggleButton:
                markup: True
                name: 'RF Preamp'
                text: 'RF Preamp '+ root.rf_preamp_status
                on_press: root.rf_preamp()
                background_normal:  "img/shape_off.png"
                background_down: "img/shape_on.png"
            ToggleButton:
                markup: True
                name: 'AF Preamp'
                text: 'AF Preamp '+root.af_preamp_status
                on_press: root.af_preamp()
                background_normal:  "img/shape_off.png"
                background_down: "img/shape_on.png"
                
            ToggleButton:
                markup: True
                name: 'Mode'
                text: 'Mode '+ root.mode_status
                on_press: root.mode()
                background_normal:  "img/shape_off.png"
                background_down: "img/shape_on.png"
            Label:
                markup: True
                text: '[size=24]'+root.utc_time+'[/size]'
                font_size: 18                
 
            


                
            
                

